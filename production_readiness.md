# –û—Ç—á–µ—Ç –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

–ü—Ä–æ–≤–µ–¥–µ–Ω –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ –ø–µ—Ä–µ–¥–∞—á–µ –∑–∞–∫–∞–∑—á–∏–∫—É.

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Å—Å–∏–∏ (Logout)**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ–≥–¥–∞ –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏ (refresh token invalid) –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Å—Ç–∞–≤–∞–ª—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ. –î–æ–±–∞–≤–ª–µ–Ω –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Å–ª—É—à–∞—Ç–µ–ª—å —Å–æ–±—ã—Ç–∏—è `auth:logout`, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞.
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è API**: –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è `BACKEND_URL`. –¢–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `NEXT_PUBLIC_API_URL` –∫–∞–∫ fallback, —á—Ç–æ —É—Å—Ç—Ä–∞–Ω—è–µ—Ç —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω –º–µ–∂–¥—É `.env.local` –∏ –∫–æ–¥–æ–º.

### 2. –û—á–∏—Å—Ç–∫–∞ –∫–æ–¥–∞ (Clean Code)
- **–£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö –ª–æ–≥–æ–≤**: –£–±—Ä–∞–Ω—ã `console.log` –∏–∑ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
  - `src/entities/agent-session/model/use-agent-session.ts` (WebSocket –ª–æ–≥–∏)
  - `src/app/agent/sessions/[id]/page.tsx` (UI –ª–æ–≥–∏)
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è**: –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ API —Ä–æ—É—Ç–∞—Ö.

### 3. –°–±–æ—Ä–∫–∞ –∏ –õ–∏–Ω—Ç–∏–Ω–≥
- **Build**: –ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è (`npm run build`).
- **Lint**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –Ω–µ—Ç.

### 4. –ò–Ω–∂–µ–Ω–µ—Ä–Ω–∞—è –∫—É–ª—å—Ç—É—Ä–∞ ("Cool Features")
- **Type-Safe Env**: –í–Ω–µ–¥—Ä–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è —á–µ—Ä–µ–∑ `zod` (`src/shared/config/env.ts`). –¢–µ–ø–µ—Ä—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è, –µ—Å–ª–∏ –∫–æ–Ω—Ñ–∏–≥ –Ω–µ–≤–µ—Ä–Ω—ã–π.
- **Voice Input**: –î–æ–±–∞–≤–ª–µ–Ω –≥–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥ –≤ —á–∞—Ç —Å –∞–≥–µ–Ω—Ç–æ–º. –†–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ Web Speech API, –∫–Ω–æ–ø–∫–∞ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞ –∞–Ω–∏–º–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–ø–∏—Å–∏.
- **Husky & Lint-staged**: –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã pre-commit —Ö—É–∫–∏. –¢–µ–ø–µ—Ä—å –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ª–∏–Ω—Ç–µ—Ä–æ–º –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º ‚Äî "–≥—Ä—è–∑–Ω—ã–π" –∫–æ–¥ –Ω–µ –ø–æ–ø–∞–¥–µ—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

## üìã –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

1. **Environment Variables**:
   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞ –ø—Ä–æ–¥–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
   ```env
   NEXT_PUBLIC_API_URL=https://api.your-production-domain.com
   NEXT_PUBLIC_WS_URL=wss://api.your-production-domain.com/ws
   # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –±—ç–∫–µ–Ω–¥ –≤–Ω—É—Ç—Ä–∏ docker —Å–µ—Ç–∏ –∏–º–µ–µ—Ç –¥—Ä—É–≥–æ–π –∞–¥—Ä–µ—Å:
   # BACKEND_API_URL=http://backend:8080
   ```

2. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**:
   –í –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –æ—Ç–ª–∏—á–Ω—ã–π BFF-–ª–æ–≥–≥–µ—Ä (`src/shared/lib/bff-logger.ts`). –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–±–æ—Ä –ª–æ–≥–æ–≤ stderr/stdout –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (ELK, Loki, etc.).

## üöÄ –°—Ç–∞—Ç—É—Å
**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –¥–µ–ø–ª–æ—é.** –ö–æ–¥–æ–≤–∞—è –±–∞–∑–∞ —á–∏—Å—Ç–∞—è, –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ (–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –≤–µ–±—Å–æ–∫–µ—Ç—ã) –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã, –≤–Ω–µ–¥—Ä–µ–Ω—ã –ø—Ä–∞–∫—Ç–∏–∫–∏ Enterprise-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
